(()=>{"use strict";var t,e={7279:(t,e,i)=>{i.r(e)},1950:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CollisionBlock=void 0;const n=i(8687),o=i(5473);class s extends n.Graphics{constructor({initX:t,initY:e,initWidth:i,initHeight:n}){super(),this.beginFill(16711680),this.drawRect(0,0,i,n),this.endFill(),this.alpha=o.logCollisionBlock.enabled?.5:0,this.position.set(t,e)}getRectBounds(){return{top:this.y,right:this.x+this.width,bottom:this.y+this.height,left:this.x}}}e.CollisionBlock=s},9221:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Game=void 0;const n=i(8687),o=i(4778),s=i(8554),a=i(6879),r=i(1664),l=i(1950),h=i(5502),d=i(5473);class c extends n.Container{constructor(t){super(),this.gameEnded=!1,this.time=0,this.maxXPivot=0,this.maxYPivot=0,this.camerabox=new n.Graphics,this.floorCollisionBlocks=new n.Container,this.platformCollisionBlocks=new n.Container,this.startGame=()=>{this.startModal.visible=!1,this.gameEnded=!1,this.time=0,this.player.restart(),this.inputHandler.restart()},this.viewWidth=t.viewWidth,this.viewHeight=t.viewHeight,this.setup(t),this.addEventLesteners(),this.initLevel(t)}setup({viewWidth:t,viewHeight:e,textures:{levelBackgroundTexture:i,warriorTextures:l}}){const h=new n.Sprite(i);this.addChild(h),this.background=h,this.statusBar=new s.StatusBar,this.addChild(this.statusBar),this.background.addChild(this.floorCollisionBlocks),this.background.addChild(this.platformCollisionBlocks),this.player=new o.Player({game:this,textures:l}),this.background.addChild(this.player),this.camerabox.beginFill(16776960),this.camerabox.drawRect(0,0,c.options.camerabox.initWidth,c.options.camerabox.initHeight),this.camerabox.endFill(),this.camerabox.alpha=d.logCameraboxBounds.enabled?.5:0,this.background.addChild(this.camerabox),this.inputHandler=new r.InputHandler({eventTarget:this.background,relativeToTarget:this.player}),this.startModal=new a.StartModal({viewWidth:t,viewHeight:e}),this.startModal.visible=!1,this.addChild(this.startModal),this.background.scale.set(c.options.scale)}getCameraboxBounds(){const{x:t,y:e,width:i,height:n}=this.camerabox;return{top:e,right:t+i,bottom:e+n,left:t}}updateCamerabox(){this.player.updateHitbox();const{position:t}=this.player.hitbox,{offset:{x:e,y:i}}=c.options.camerabox;this.camerabox.position={x:t.x+e,y:t.y+i}}getViewportBounds(t){const{viewWidth:e,viewHeight:i}=this,{background:{pivot:{x:n,y:o}}}=this;return{top:o,right:n+e*t,bottom:o+i*t,left:n}}addEventLesteners(){this.startModal.on("click",this.startGame)}endGame(t=!1){this.gameEnded=!0,this.player.stop(),this.startModal.visible=!0,this.startModal.reasonText.text=t?"Win!!":"Time out!"}handleResize({viewWidth:t,viewHeight:e}){this.viewWidth=t,this.viewHeight=e;const{width:i,height:n,scale:o}=this.background;this.maxXPivot=i>t?(i-t)/o.x:0,this.maxYPivot=n>e?(n-e)/o.y:0,(0,d.logLayout)(`x=${this.x} y=${this.y} w=${i} h=${n}`),this.statusBar.position.set(t/2-this.statusBar.width/2,0),this.startModal.position.set(t/2-this.startModal.width/2,e/2-this.startModal.height/2)}handleUpdate(t){this.gameEnded||(this.time+=t,this.statusBar.updateTime(this.time),this.time>c.options.maxTime?this.endGame():(this.player.handleUpdate(t),this.handleCamera()))}handleCamera(){this.updateCamerabox();const t=this.getCameraboxBounds(),e=this.getViewportBounds(1/c.options.scale);(0,d.logViewportBounds)(`top=${e.top} right=${e.right} bottom=${e.bottom} left=${e.left}`);const{pivot:i}=this.background;t.top<e.top?i.y-=e.top-t.top:t.bottom>e.bottom&&(i.y+=t.bottom-e.bottom),t.left<e.left?i.x-=e.left-t.left:t.right>e.right&&(i.x+=t.right-e.right),i.x<0?i.x=0:i.x>this.maxXPivot&&(i.x=this.maxXPivot),i.y<0?i.y=0:i.y>this.maxYPivot&&(i.y=this.maxYPivot)}initLevel({levelSettings:t}){h.MapSettings.mapTileToPositions({mapSettings:t,layerName:"FloorCollisions",tileIds:[202],tilesPerRow:36,cell:16}).forEach((t=>{this.floorCollisionBlocks.addChild(new l.CollisionBlock({initX:t.x,initY:t.y,initWidth:16,initHeight:16}))})),h.MapSettings.mapTileToPositions({mapSettings:t,layerName:"PlatformCollisions",tileIds:[202],tilesPerRow:36,cell:16}).forEach((t=>{this.platformCollisionBlocks.addChild(new l.CollisionBlock({initX:t.x,initY:t.y,initWidth:16,initHeight:8}))})),this.player.restart()}}c.options={maxTime:25e3,scale:4,camerabox:{offset:{x:-42,y:-34},initWidth:100,initHeight:100}},e.Game=c},1664:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.InputHandler=void 0;const n=i(5473);e.InputHandler=class{constructor({eventTarget:t,relativeToTarget:e,interactiveChildren:i=!1}){this.pointerXDown=null,this.pointerYDown=null,this.handlePointerDown=t=>{this.handlePlayerMove(!0,t)},this.handlePointerMove=t=>{this.handlePlayerMove(void 0,t)},this.handlePointerUp=t=>{this.handlePlayerMove(!1,t)},this.handleKeyDown=t=>{switch((0,n.logKeydown)(`${t.code} ${t.key}`),t.code){case"KeyW":case"ArrowUp":this.applyUpDirection(!0);break;case"KeyA":case"ArrowLeft":this.applyLeftDirection(!0);break;case"KeyD":case"ArrowRight":this.applyRightDirection(!0);break;case"KeyS":case"ArrowDown":this.applyDownDirection(!0)}},this.handleKeyUp=t=>{switch((0,n.logKeyup)(`${t.code} ${t.key}`),t.code){case"KeyW":case"ArrowUp":this.applyUpDirection(!1);break;case"KeyA":case"ArrowLeft":this.applyLeftDirection(!1);break;case"KeyD":case"ArrowRight":this.applyRightDirection(!1);break;case"KeyS":case"ArrowDown":this.applyDownDirection(!1)}},this.eventTarget=t,this.relativeToTarget=e,this.interactiveChildren=i,this.addEventLesteners()}addEventLesteners(){this.eventTarget.interactive=!0,this.eventTarget.on("pointerdown",this.handlePointerDown),this.eventTarget.on("pointermove",this.handlePointerMove),this.eventTarget.on("pointerup",this.handlePointerUp),window.addEventListener("keydown",this.handleKeyDown),window.addEventListener("keyup",this.handleKeyUp)}handlePlayerMove(t,e){const i=this.eventTarget.toLocal(e.global);(0,n.logPointerEvent)(`${e.type} px=${i.x} py=${i.y}`),this.applyPointerToDirection(t,i.x,i.y)}applyUpDirection(t){this.pointerYDown=t?-1:null,(0,n.logInputDirection)(`UP px=${this.pointerXDown} py=${this.pointerYDown}`)}applyDownDirection(t){this.pointerYDown=t?1:null,(0,n.logInputDirection)(`DOWN px=${this.pointerXDown} py=${this.pointerYDown}`)}applyLeftDirection(t){this.pointerXDown=t?-1:-1===this.pointerXDown?null:this.pointerXDown,(0,n.logInputDirection)(`LEFT px=${this.pointerXDown} py=${this.pointerYDown}`)}applyRightDirection(t){this.pointerXDown=t?1:1===this.pointerXDown?null:this.pointerXDown,(0,n.logInputDirection)(`RIGHT px=${this.pointerXDown} py=${this.pointerYDown}`)}isPointerDown(){return null!==this.pointerXDown||null!==this.pointerYDown}hasDirectionLeft(){return null!==this.pointerXDown&&this.pointerXDown<0}hasDirectionRight(){return null!==this.pointerXDown&&this.pointerXDown>0}hasDirectionUp(){return null!==this.pointerYDown&&this.pointerYDown<0}hasDirectionDown(){return null!==this.pointerYDown&&this.pointerYDown>0}applyPointerToDirection(t,e,i){const{relativeToTarget:o}=this;if(!0===t||void 0===t&&this.isPointerDown()){if(null!=o){const t="function"==typeof o.getHitboxBounds?o.getHitboxBounds():{left:o.x,right:o.x+o.width,top:o.y,bottom:o.y+o.height};e>=t.right?this.pointerXDown=1:e<=t.left&&(this.pointerXDown=-1),i<=t.top?this.pointerYDown=-1:i>=t.bottom&&(this.pointerYDown=1),t.left<e&&e<t.right&&t.top<i&&i<t.bottom&&(this.pointerYDown=-1)}else this.pointerXDown=e,this.pointerYDown=i;(0,n.logInputDirection)(`MOVE|START px=${this.pointerXDown} py=${this.pointerYDown} rt=${Boolean(o)}`)}else!1===t&&(this.pointerXDown=null,this.pointerYDown=null,(0,n.logInputDirection)(`END px=${this.pointerXDown} py=${this.pointerYDown}`))}restart(){this.pointerXDown=null,this.pointerYDown=null}}},1557:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.LoaderScene=e.manifest=void 0;const n=i(8687),o=i(5473);e.manifest={bundles:[{name:"initial-bundle",assets:{spritesheet:"assets/spritesheets/spritesheet.json",levelBackground:"assets/levels/Level.png",levelSettings:"assets/levels/Level-settings.json"}}]};class s extends n.Container{constructor(t){super(),this.downloadProgress=t=>{this.loaderBarFill.width=(s.barOptions.width-2*s.barOptions.borderThick)*t},this.setup(),this.draw()}setup(){const t=new n.Graphics;this.addChild(t),this.loaderBarBorder=t;const e=new n.Graphics;this.addChild(e),this.loaderBarFill=e}draw(){const{barOptions:t}=s,{loaderBarFill:e,loaderBarBorder:i}=this;i.beginFill(t.borderColor),i.drawRoundedRect(0,0,t.width,t.height,t.borderRadius),i.endFill(),e.beginFill(t.fillColor),e.drawRoundedRect(t.borderThick,t.borderThick,t.width-2*t.borderThick,t.height-2*t.borderThick,t.borderRadius),e.endFill()}async initializeLoader(){await n.Assets.init({manifest:e.manifest}),await n.Assets.loadBundle(e.manifest.bundles.map((t=>t.name)),this.downloadProgress)}getAssets(){return{spritesheet:n.Assets.get("spritesheet"),levelBackground:n.Assets.get("levelBackground"),levelSettings:n.Assets.get("levelSettings")}}handleResize({viewWidth:t,viewHeight:e}){const i=t,n=e,a=this.width,r=this.height;if(i>=a&&n>=r){const t=i>a?(i-a)/2:0,e=n>r?(n-r)/2:0;(0,o.logLayout)(`Spacing aw=${i} tw=${a} ah=${n} th=${r}`),this.x=t,this.width=s.barOptions.width,this.y=e,this.height=s.barOptions.height}else{let t=1;r>=a?(t=n/r,t*a>i&&(t=i/a),(0,o.logLayout)(`By height (sc=${t})`)):(t=i/a,(0,o.logLayout)(`By width (sc=${t})`),t*r>n&&(t=n/r));const e=Math.floor(a*t),s=Math.floor(r*t),l=i>e?(i-e)/2:0,h=n>s?(n-s)/2:0;(0,o.logLayout)(`aw=${i} (ow=${e}) ah=${n} (oh=${s})`),this.x=l,this.width=e,this.y=h,this.height=s}(0,o.logLayout)(`x=${this.x} y=${this.y} w=${this.width} h=${this.height}`)}handleMounted(){}handleUpdate(){}}s.barOptions={width:350,height:40,fillColor:1588688,borderRadius:5,borderThick:5,borderColor:0},e.LoaderScene=s},6168:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MainScene=void 0;const n=i(8687),o=i(9221);class s extends n.Container{constructor(t){super(),this.gravity=.7,this.gameEnded=!1,this.setup(t)}setup({viewWidth:t,viewHeight:e,textures:i,levelSettings:n}){const s=new o.Game({viewWidth:t,viewHeight:e,textures:i,levelSettings:n});this.addChild(s),this.game=s}handleResize(t){this.game.handleResize(t)}handleUpdate(t){this.game.handleUpdate(t)}}e.MainScene=s},5502:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MapSettings=void 0;class i{static findTileLayer({name:t,mapSettings:e}){const i=e.layers.find((e=>"tilelayer"===e.type&&e.name===t));if(null==i)throw new Error(`Unable to detect "${t}" tile layer`);return i}static findObjectGroupLayer({name:t,mapSettings:e}){const i=e.layers.find((e=>"objectgroup"===e.type&&e.name===t));if(null==i)throw new Error(`Unable to detect "${t}" object group layer`);return i}static mapTileToPositions({mapSettings:t,layerName:e,tileIds:n,tilesPerRow:o,cell:s}){const a=[],r=i.findTileLayer({name:e,mapSettings:t});for(let t=0;t<r.data.length;t+=o)r.data.slice(t,t+o).forEach(((e,i)=>{n.includes(e)&&a.push({x:i*s,y:t/o*s})}));return a}}e.MapSettings=i},4778:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Player=e.PlayerAnimation=void 0;const n=i(8687),o=i(3329),s=i(5473);var a;!function(t){t.idleLeft="idleLeft",t.idleRight="idleRight",t.runLeft="runLeft",t.runRight="runRight",t.jumpLeft="jumpLeft",t.jumpRight="jumpRight",t.fallLeft="fallLeft",t.fallRight="fallRight"}(a=e.PlayerAnimation||(e.PlayerAnimation={}));class r extends n.Container{constructor(t){if(super(),this.velocity={vx:0,vy:0},this.hitbox={position:{x:0,y:0},offset:{x:0,y:10},width:17,height:30},this.game=t.game,this.setup(t),this.updateHitbox(),s.logPlayerBounds.enabled){const t=new n.Graphics;t.beginFill(16711935),t.drawRect(0,0,this.width,this.height),t.endFill(),t.alpha=.5,this.addChild(t);const e=new n.Graphics;e.beginFill(65535),e.drawRect(this.hitbox.position.x,this.hitbox.position.y,this.hitbox.width,this.hitbox.height),e.endFill(),e.alpha=.5,this.addChild(e)}this.states={[o.EPlayerState.idleLeft]:new o.IdleLeft({game:t.game}),[o.EPlayerState.idleRight]:new o.IdleRight({game:t.game}),[o.EPlayerState.runLeft]:new o.RunLeft({game:t.game}),[o.EPlayerState.runRight]:new o.RunRight({game:t.game}),[o.EPlayerState.jumpLeft]:new o.JumpLeft({game:t.game}),[o.EPlayerState.jumpRight]:new o.JumpRight({game:t.game}),[o.EPlayerState.fallLeft]:new o.FallLeft({game:t.game}),[o.EPlayerState.fallRight]:new o.FallRight({game:t.game})}}setup({textures:{idleLeftTextures:t,idleRightTextures:e,runLeftTextures:i,runRightTextures:o,jumpLeftTextures:s,jumpRightTextures:a,fallLeftTextures:l,fallRightTextures:h}}){const{idleAnimationSpeed:d,jumpFallAnimationSpeed:c,runAnimationSpeed:p}=r.options,u=new n.Graphics;this.addChild(u),this.playerBox=u;const g=new n.Container;this.addChild(g),this.spritesContainer=g;const m=new n.AnimatedSprite(t);g.addChild(m),this.idleLeftAnimation=m;const y=new n.AnimatedSprite(e);g.addChild(y),this.idleRightAnimation=y,m.animationSpeed=y.animationSpeed=d;const f=new n.AnimatedSprite(i);g.addChild(f),this.runLeftAnimation=f;const w=new n.AnimatedSprite(o);g.addChild(w),this.runRightAnimation=w,f.animationSpeed=w.animationSpeed=p;const v=new n.AnimatedSprite(s);g.addChild(v),this.jumpLeftAnimation=v;const x=new n.AnimatedSprite(a);g.addChild(x),this.jumpRightAnimation=x;const b=new n.AnimatedSprite(l);g.addChild(b),this.fallLeftAnimation=b;const S=new n.AnimatedSprite(h);g.addChild(S),this.fallRightAnimation=S,v.animationSpeed=x.animationSpeed=b.animationSpeed=S.animationSpeed=c,g.scale.set(r.options.scale)}hideAllAnimations(){this.spritesContainer.children.forEach((t=>{t.visible=!1}))}switchAnimation(t){let e;switch(t){case a.idleLeft:e=this.idleLeftAnimation;break;case a.idleRight:e=this.idleRightAnimation;break;case a.runLeft:e=this.runLeftAnimation;break;case a.runRight:e=this.runRightAnimation;break;case a.jumpLeft:e=this.jumpLeftAnimation;break;case a.jumpRight:e=this.jumpRightAnimation;break;case a.fallLeft:e=this.fallLeftAnimation;break;case a.fallRight:e=this.fallRightAnimation}e!==this.currentAnimation&&(this.currentAnimation=e,this.hideAllAnimations(),this.currentAnimation.gotoAndPlay(0),this.currentAnimation.visible=!0)}setState(t){this.currentState=this.states[t],this.currentState.enter(),(0,s.logPlayerState)(`state=${t}`)}jump(){this.velocity.vy=-r.options.jumpSpeed}isOnGround(){return Boolean(this.groundBlock)}isFalling(){return this.velocity.vy>r.options.gravity}stop(){this.velocity.vx=0,this.velocity.vy=0}handleUpdate(t){const{inputHandler:e}=this.game;this.currentState.handleInput(),e.hasDirectionLeft()?this.velocity.vx=-r.options.moveSpeed:e.hasDirectionRight()?this.velocity.vx=r.options.moveSpeed:this.velocity.vx=0;const i=this.getHitboxBounds({addXVelocity:!0});i.left<this.game.x?(this.velocity.vx=0,this.setPosition({x:this.game.x})):i.right>this.game.background.texture.width&&(this.velocity.vx=0,this.setPosition({x:this.game.background.texture.width-this.hitbox.width})),null==this.checkForHorizontalCollisions()&&(this.x+=this.velocity.vx),this.groundBlock=this.checkForVerticalCollisions(),null==this.groundBlock&&this.applyGravity()}restart(){this.velocity.vx=0,this.velocity.vy=0,this.setPosition({x:100,y:50}),this.setState(o.EPlayerState.idleRight)}checkForHorizontalCollisions(){const t=this.getHitboxBounds({addXVelocity:!0});return this.game.floorCollisionBlocks.children.find((e=>{const i=e.getRectBounds();if(t.left<=i.right&&t.right>=i.left&&t.bottom>i.top&&t.top<i.bottom){if(this.velocity.vx<0)return this.velocity.vx=0,this.setPosition({x:i.right}),!0;if(this.velocity.vx>0)return this.velocity.vx=0,this.setPosition({x:i.left-this.hitbox.width}),!0}return!1}))}checkForVerticalCollisions(){const t=this.getHitboxBounds(),e=t.bottom+this.velocity.vy;let i=this.game.floorCollisionBlocks.children.find((i=>{const n=i.getRectBounds();return!!(t.left<=n.right&&t.right>=n.left)&&t.bottom<=n.top&&e>n.top&&(this.velocity.vy=0,this.groundBlock=i,this.setPosition({y:n.top-this.hitbox.height}),!0)}));return null!=i||(i=this.game.platformCollisionBlocks.children.find((i=>{const n=i.getRectBounds();return!!(t.left<=n.right&&t.right>=n.left)&&t.bottom<=n.top&&e>n.top&&(this.velocity.vy=0,this.groundBlock=i,this.setPosition({y:n.top-this.hitbox.height}),!0)}))),i}applyGravity(){this.position.y+=this.velocity.vy,this.velocity.vy+=r.options.gravity}updateHitbox(){const{position:t,offset:e,width:i,height:n}=this.hitbox;t.x=this.position.x+(this.width-i)/2+e.x,t.y=this.position.y+(this.height-n)/2+e.y}setPosition({x:t,y:e}){this.updateHitbox(),null!=t&&(this.position.x=t+(this.position.x-this.hitbox.position.x)),null!=e&&(this.position.y=e+(this.position.y-this.hitbox.position.y))}getHitboxBounds({addXVelocity:t=!1,addYVelocity:e=!1}={}){this.updateHitbox();const i={top:this.hitbox.position.y,right:this.hitbox.position.x+this.hitbox.width,bottom:this.hitbox.position.y+this.hitbox.height,left:this.hitbox.position.x};return t&&(i.left+=this.velocity.vx,i.right+=this.velocity.vx),e&&(i.top+=this.velocity.vy,i.bottom+=this.velocity.vy),i}}r.options={scale:.5,moveSpeed:2,jumpSpeed:4,gravity:.1,idleAnimationSpeed:.2,jumpFallAnimationSpeed:.2,runAnimationSpeed:.2},e.Player=r},3329:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FallRight=e.FallLeft=e.JumpRight=e.JumpLeft=e.RunRight=e.RunLeft=e.IdleRight=e.IdleLeft=e.PlayerState=e.EPlayerState=void 0;const n=i(4778);var o;!function(t){t.idleLeft="idleLeft",t.idleRight="idleRight",t.runLeft="runLeft",t.runRight="runRight",t.jumpLeft="jumpLeft",t.jumpRight="jumpRight",t.fallLeft="fallLeft",t.fallRight="fallRight"}(o=e.EPlayerState||(e.EPlayerState={}));class s{constructor({game:t,state:e}){this.state=e,this.game=t}enter(){throw new Error("enter() not implemented in child class")}handleInput(){throw new Error("handleInput() not implemented in child class")}}e.PlayerState=s,e.IdleLeft=class extends s{constructor({game:t}){super({game:t,state:o.idleLeft})}enter(){const{player:t}=this.game;t.switchAnimation(n.PlayerAnimation.idleLeft)}handleInput(){const{inputHandler:t,player:e}=this.game;t.hasDirectionUp()&&0===e.velocity.vy?t.hasDirectionRight()?e.setState(o.jumpRight):e.setState(o.jumpLeft):t.hasDirectionLeft()?e.setState(o.runLeft):t.hasDirectionRight()&&e.setState(o.runRight)}},e.IdleRight=class extends s{constructor({game:t}){super({game:t,state:o.idleRight})}enter(){const{player:t}=this.game;t.switchAnimation(n.PlayerAnimation.idleRight)}handleInput(){const{inputHandler:t,player:e}=this.game;t.hasDirectionUp()&&0===e.velocity.vy?t.hasDirectionLeft()?e.setState(o.jumpLeft):e.setState(o.jumpRight):t.hasDirectionLeft()?e.setState(o.runLeft):t.hasDirectionRight()&&e.setState(o.runRight)}},e.RunLeft=class extends s{constructor({game:t}){super({game:t,state:o.runLeft})}enter(){const{player:t}=this.game;t.switchAnimation(n.PlayerAnimation.runLeft)}handleInput(){const{inputHandler:t,player:e}=this.game;t.hasDirectionUp()&&0===e.velocity.vy?t.hasDirectionRight()?e.setState(o.jumpRight):e.setState(o.jumpLeft):t.hasDirectionRight()?e.setState(o.runRight):t.hasDirectionLeft()||e.setState(o.idleLeft)}},e.RunRight=class extends s{constructor({game:t}){super({game:t,state:o.runRight})}enter(){const{player:t}=this.game;t.switchAnimation(n.PlayerAnimation.runRight)}handleInput(){const{inputHandler:t,player:e}=this.game;t.hasDirectionUp()&&0===e.velocity.vy?t.hasDirectionLeft()?e.setState(o.jumpLeft):e.setState(o.jumpRight):t.hasDirectionLeft()?e.setState(o.runLeft):t.hasDirectionRight()||e.setState(o.idleRight)}},e.JumpLeft=class extends s{constructor({game:t}){super({game:t,state:o.jumpLeft})}enter(){const{player:t}=this.game;t.isOnGround()&&t.jump(),t.switchAnimation(n.PlayerAnimation.jumpLeft)}handleInput(){const{player:t,inputHandler:e}=this.game;t.isFalling()?e.hasDirectionRight()?t.setState(o.fallRight):t.setState(o.fallLeft):t.isOnGround()?t.setState(o.runLeft):e.hasDirectionRight()&&t.setState(o.jumpRight)}},e.JumpRight=class extends s{constructor({game:t}){super({game:t,state:o.jumpRight})}enter(){const{player:t}=this.game;t.isOnGround()&&t.jump(),t.switchAnimation(n.PlayerAnimation.jumpRight)}handleInput(){const{player:t,inputHandler:e}=this.game;t.isFalling()?e.hasDirectionLeft()?t.setState(o.fallLeft):t.setState(o.fallRight):t.isOnGround()?t.setState(o.runRight):e.hasDirectionLeft()&&t.setState(o.jumpLeft)}},e.FallLeft=class extends s{constructor({game:t}){super({game:t,state:o.fallLeft})}enter(){const{player:t}=this.game;t.switchAnimation(n.PlayerAnimation.fallLeft)}handleInput(){const{player:t,inputHandler:e}=this.game;t.isOnGround()?t.setState(o.runLeft):e.hasDirectionRight()&&t.setState(o.fallRight)}},e.FallRight=class extends s{constructor({game:t}){super({game:t,state:o.fallRight})}enter(){const{player:t}=this.game;t.switchAnimation(n.PlayerAnimation.fallRight)}handleInput(){const{player:t,inputHandler:e}=this.game;t.isOnGround()?t.setState(o.runRight):e.hasDirectionLeft()&&t.setState(o.fallLeft)}}},3110:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SceneManager=void 0;const n=i(8687),o=i(5473);class s extends n.Container{init(){}handleUpdate(){}handleResize(){}}class a{constructor(){}static get width(){return window.innerWidth}static get height(){return window.innerHeight}static async initialize(){var t;const e=new n.Application({autoDensity:!0,resolution:null!==(t=window.devicePixelRatio)&&void 0!==t?t:1,width:a.width,height:a.height,resizeTo:window});document.body.appendChild(e.view),o.logApp.enabled&&((0,o.logApp)("window.app initialized!"),window.app=e),a.app=e,a.setupEventLesteners()}static setupEventLesteners(){window.addEventListener("resize",a.resizeDeBounce),a.app.ticker.add(a.updateHandler)}static async changeScene(t){a.app.stage.removeChild(a.currentScene),a.currentScene.destroy(),a.currentScene=t,a.app.stage.addChild(a.currentScene),a.resizeHandler()}static resizeDeBounce(){a.cancelScheduledResizeHandler(),a.scheduleResizeHandler()}static cancelScheduledResizeHandler(){clearTimeout(a.resizeTimeoutId)}static scheduleResizeHandler(){a.resizeTimeoutId=setTimeout((()=>{a.cancelScheduledResizeHandler(),a.resizeHandler()}),a.resizeTimeout)}static resizeHandler(){a.currentScene.handleResize({viewWidth:a.width,viewHeight:a.height})}static updateHandler(){a.currentScene.handleUpdate(a.app.ticker.deltaMS)}}a.currentScene=new s,a.resizeTimeout=300,e.SceneManager=a},6879:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.StartModal=void 0;const n=i(8687);class o extends n.Container{constructor(t){super(),this.boxOptions={fill:16777215,width:300,height:200,borderRadius:5},this.reasonTextOptions={top:-50,textColor:0,textSize:40,fontWeight:"bold"},this.buttonOptions={top:120,left:50,width:200,height:50,fill:959977,borderRadius:10},this.buttonTextOptions={top:95,textColor:16777215,textSize:20},this.setup(t),this.draw(t),this.setupEventListeners()}setup(t){this.modalBox=new n.Graphics,this.addChild(this.modalBox);const{boxOptions:e,reasonTextOptions:i,buttonTextOptions:o}=this;this.reasonText=new n.Text("-",{fontSize:i.textSize,fill:i.textColor,fontWeight:i.fontWeight}),this.reasonText.anchor.set(.5,.5),this.reasonText.position.set(e.width/2,e.height/2+i.top),this.addChild(this.reasonText),this.button=new n.Graphics,this.button.interactive=!0,this.button.cursor="pointer",this.addChild(this.button),this.buttonText=new n.Text("Start Game",{fontSize:o.textSize,fill:o.textColor}),this.buttonText.anchor.set(.5,.5),this.buttonText.position.set(e.width/2,e.height/2/2+o.top),this.button.addChild(this.buttonText)}draw(t){const{boxOptions:e,buttonOptions:i}=this;this.modalBox.beginFill(e.fill),this.modalBox.drawRoundedRect(0,0,e.width,e.height,e.borderRadius),this.modalBox.endFill(),this.button.beginFill(i.fill),this.button.drawRoundedRect(i.left,i.top,i.width,i.height,i.borderRadius),this.button.endFill()}setupEventListeners(){this.button.on("pointertap",(t=>{this.emit("click",t)}))}}e.StartModal=o},8554:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.StatusBar=void 0;const n=i(8687);class o extends n.Container{constructor(){super(),this.setup()}static getTimeText(t){return`Time: ${t}`}setup(){const{options:{padding:t,textSize:e,textColor:i,textShadowOffset:s,textColorShadow:a}}=o,r=new n.Text(o.getTimeText(0),{fontSize:.8*e,fill:a,align:"center"});r.position.set(0,t),this.addChild(r),this.timeTextShadow=r;const l=new n.Text(o.getTimeText(0),{fontSize:.8*e,fill:i,align:"center"});l.position.set(0+s,t+s),this.addChild(l),this.timeText=l}updateTime(t){const e=(.001*t).toFixed(1);this.timeText.text=o.getTimeText(e),this.timeTextShadow.text=o.getTimeText(e)}}o.options={padding:20,textColor:12277847,textColorShadow:10013656,textShadowOffset:.5,textSize:40},e.StatusBar=o},6752:(t,e,i)=>{i(7279);const n=i(3110),o=i(6168),s=i(1557);(async function(){const t=document.querySelector(".ellipsis");null!=t&&(t.style.display="none"),await n.SceneManager.initialize();const e=new s.LoaderScene({viewWidth:n.SceneManager.width,viewHeight:n.SceneManager.height});await n.SceneManager.changeScene(e),await e.initializeLoader();const{levelBackground:i,levelSettings:a,spritesheet:{animations:r}}=e.getAssets();await n.SceneManager.changeScene(new o.MainScene({app:n.SceneManager.app,viewWidth:n.SceneManager.width,viewHeight:n.SceneManager.height,levelSettings:a,textures:{levelBackgroundTexture:i,warriorTextures:{idleLeftTextures:r["Warrior-Idle-Left"],idleRightTextures:r["Warrior-Idle-Right"],jumpLeftTextures:r["Warrior-Jump-Left"],jumpRightTextures:r["Warrior-Jump-Right"],fallLeftTextures:r["Warrior-Fall-Left"],fallRightTextures:r["Warrior-Fall-Right"],runLeftTextures:r["Warrior-Run-Left"],runRightTextures:r["Warrior-Run-Right"]}}}))})().catch((t=>{var e;console.error(t);const i=document.querySelector(".error-message");null!=i&&(i.classList.remove("hidden"),i.innerText=Boolean(t)&&Boolean(t.message)?t.message:t);const n=document.querySelector(".error-stack");null!=n&&(n.classList.remove("hidden"),n.innerText=Boolean(t)&&Boolean(t.stack)?t.stack:"");const o=document.querySelector("canvas");null!=o&&(null===(e=o.parentElement)||void 0===e||e.removeChild(o))}))},5473:function(t,e,i){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.logViewportBounds=e.logCameraboxBounds=e.logCollisionBlock=e.logPlayerState=e.logPlayerBounds=e.logInputDirection=e.logKeyup=e.logKeydown=e.logPointerEvent=e.logLayout=e.logApp=void 0;const o=n(i(1227));function s(t){let e="";const i=(e,...i)=>{t(e,...i)};return i.enabled=t.enabled,i.ifChanged=(...i)=>{const n=i.map(String).join(" ");n!==e&&(t(n),e=n)},i}e.logApp=(0,o.default)("vp-app"),e.logLayout=(0,o.default)("vp-layout"),e.logPointerEvent=(0,o.default)("vp-pointer-event"),e.logKeydown=(0,o.default)("vp-keydown"),e.logKeyup=(0,o.default)("vp-keyup"),e.logInputDirection=(0,o.default)("vp-input-direction"),e.logPlayerBounds=(0,o.default)("vp-player-bounds"),e.logPlayerState=(0,o.default)("vp-player-state"),e.logCollisionBlock=(0,o.default)("vp-collision-block"),e.logCameraboxBounds=s((0,o.default)("vp-camerabox-bounds")),e.logViewportBounds=s((0,o.default)("vp-viewport-bounds"))}},i={};function n(t){var o=i[t];if(void 0!==o)return o.exports;var s=i[t]={id:t,loaded:!1,exports:{}};return e[t].call(s.exports,s,s.exports,n),s.loaded=!0,s.exports}n.m=e,t=[],n.O=(e,i,o,s)=>{if(!i){var a=1/0;for(d=0;d<t.length;d++){for(var[i,o,s]=t[d],r=!0,l=0;l<i.length;l++)(!1&s||a>=s)&&Object.keys(n.O).every((t=>n.O[t](i[l])))?i.splice(l--,1):(r=!1,s<a&&(a=s));if(r){t.splice(d--,1);var h=o();void 0!==h&&(e=h)}}return e}s=s||0;for(var d=t.length;d>0&&t[d-1][2]>s;d--)t[d]=t[d-1];t[d]=[i,o,s]},n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),(()=>{var t={179:0};n.O.j=e=>0===t[e];var e=(e,i)=>{var o,s,[a,r,l]=i,h=0;if(a.some((e=>0!==t[e]))){for(o in r)n.o(r,o)&&(n.m[o]=r[o]);if(l)var d=l(n)}for(e&&e(i);h<a.length;h++)s=a[h],n.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return n.O(d)},i=self.webpackChunksimple_html5_mrp_game=self.webpackChunksimple_html5_mrp_game||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))})();var o=n.O(void 0,[736],(()=>n(6752)));o=n.O(o)})();